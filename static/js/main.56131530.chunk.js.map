{"version":3,"sources":["PropertyFrame.js","ColorProperty.js","RangeProperty.js","SwitchProperty.js","RadioProperty.js","RangePlusProperty.js","SmartDevice.js","SmartHome.js","reportWebVitals.js","index.js"],"names":["PropertyFrame","props","align","span","style","textAlign","name","children","useState","value","setValue","type","intToColorString","onChange","e","rgb","v","target","parseInt","substr","id","i","toString","slice","RangeProperty","step","tooltipVisible","tooltipPlacement","min","Number","max","defaultValue","SwitchProperty","justify","shape","onClick","trueText","falseText","RadioProperty","Group","values","map","index","RangePlusProperty","disabled","icon","MinusOutlined","Math","PlusOutlined","SmartDevice","currentScene","setCurrentScene","visible","setVisible","handleChange","pid","ip","title","centered","closable","afterClose","afterHide","onCancel","footer","undefined","scenes","scene","properties","property","ColorProperty","SmartHome","state","json","onDeviceChange","bind","fetch","then","response","setState","this","devices","find","d","p","method","headers","body","JSON","stringify","className","width","height","pointerEvents","alignmentBaseline","x","y","fill","stroke","strokeWidth","device","createDevice","xlinkHref","ui","React","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.56131530.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Row, Col } from \"antd\";\r\nimport 'antd/dist/antd.css';\r\n\r\nexport default function PropertyFrame(props) {\r\n  return (\r\n    <>\r\n      <br />\r\n      <Row align=\"middle\">\r\n        <Col span={2}>\r\n          <b style={{textAlign: \"center\"}}>{props.name}</b>\r\n        </Col>\r\n        <Col span={22}>\r\n          {props.children}\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  )\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { Input } from \"antd\";\r\nimport PropertyFrame from \"./PropertyFrame\";\r\nimport 'antd/dist/antd.css';\r\n\r\nexport default function (props) {\r\n  const [value, setValue] = useState(props.value);\r\n\r\n  return (\r\n    <PropertyFrame name={props.name}>\r\n      <Input type=\"color\" value={intToColorString(value)} onChange={e=>{\r\n        let v = colorStringToInt(e.target.value);\r\n        setValue(v);\r\n        props.onChange(props.id, v);\r\n      }}/>\r\n      </PropertyFrame>\r\n  );\r\n}\r\n\r\n\r\nfunction intToColorString(i) {\r\n  let rgb = (\"000000\" + i.toString(16)).slice(-6);\r\n  return \"#\" + rgb;\r\n}\r\n\r\nfunction colorStringToInt(rgb) {\r\n    return parseInt(rgb.substr(1, 2) + rgb.substr(3, 2) + rgb.substr(5, 2), 16);\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { Slider } from \"antd\";\r\nimport PropertyFrame from \"./PropertyFrame\";\r\nimport 'antd/dist/antd.css';\r\n\r\nexport default function RangeProperty(props) {\r\n  const [value, setValue] = useState(props.value);\r\n  const step = props.step || 1;\r\n\r\n  return <PropertyFrame name={props.name}>\r\n    <Slider\r\n      tooltipVisible={true}\r\n      tooltipPlacement=\"bottom\"\r\n      min={Number(props.min)} \r\n      max={Number(props.max)} \r\n      step={step}\r\n      defaultValue={props.value} \r\n      onChange={(v)=>{\r\n        setValue(v);\r\n        props.onChange(props.id, v);\r\n      }}\r\n    />\r\n  </PropertyFrame>\r\n}\r\n","import { Button, Col, Row } from \"antd\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport PropertyFrame from \"./PropertyFrame\";\r\nimport 'antd/dist/antd.css';\r\n\r\nexport default function SwitchProperty(props) {\r\n  const [value, setValue] = useState(props.value);\r\n\r\n  return (\r\n    <PropertyFrame name={props.name}>\r\n      <Row align=\"middle\" justify=\"center\">\r\n        <Col span={2}>\r\n          <Button shape=\"circle\" onClick={()=>{\r\n            setValue(true);\r\n            props.onChange(props.id, true);\r\n          }}>\r\n            {props.trueText}\r\n          </Button>\r\n        </Col>\r\n        <Col span={20} style={{textAlign: \"center\"}}>\r\n          <b>{value ? props.trueText : props.falseText}</b>\r\n        </Col>\r\n        <Col span={2}>\r\n          <Button shape=\"circle\" onClick={()=>{\r\n              setValue(false);\r\n              props.onChange(props.id, false);\r\n            }}>\r\n              {props.falseText}\r\n            </Button>\r\n        </Col>\r\n      </Row>\r\n    </PropertyFrame>\r\n  );\r\n}\r\n","import { Radio } from \"antd\";\r\nimport PropertyFrame from \"./PropertyFrame\";\r\n\r\nexport default function RadioProperty(props) {\r\n    return (\r\n        <PropertyFrame name={props.name}>\r\n            <Radio.Group value={props.value} onChange={(e)=>{\r\n                props.onChange(props.id, e.target.value);\r\n            }}>\r\n                {\r\n                    props.values.map((v, index) => {\r\n                        return (\r\n                            <Radio key={index} value={v.value}>\r\n                                    {v.name}\r\n                                </Radio>\r\n                        )\r\n                    })\r\n                }\r\n                </Radio.Group>\r\n        </PropertyFrame>\r\n    )\r\n}","import { Button, Col, Row, Slider } from \"antd\";\r\nimport { MinusOutlined, PlusOutlined } from \"@ant-design/icons\";\r\nimport React, {useState} from \"react\";\r\nimport PropertyFrame from \"./PropertyFrame\";\r\n\r\nexport default function RangePlusProperty(props) {\r\n    const [value, setValue] = useState(props.value || props.min);\r\n    const step = props.step || 1;\r\n\r\n    function handleSubClick() {\r\n        const v = Math.max(value - step, props.min);\r\n        setValue(v);\r\n        props.onChange(props.id, v);\r\n    }\r\n\r\n    function handleAddClick() {\r\n        const v = Math.min(value + step, props.max);\r\n        setValue(v);\r\n        props.onChange(props.id, v);\r\n    }\r\n\r\n    return (\r\n        <PropertyFrame name={props.name}>\r\n            <Row>\r\n                <Col span={2}>\r\n                    <Button \r\n                        disabled={value <= props.min} \r\n                        icon={<MinusOutlined />}\r\n                        onClick={handleSubClick}/>\r\n                </Col>\r\n                <Col span={20}>\r\n                    <Slider\r\n                        tooltipVisible={true}\r\n                        tooltipPlacement=\"bottom\" \r\n                        min={props.min} \r\n                        max={props.max} \r\n                        step={step} \r\n                        value={value} \r\n                        onChange={\r\n                            (v) => {\r\n                                setValue(v);\r\n                                props.onChange(props.id, v);\r\n                            }\r\n                        }\r\n                    />\r\n                </Col>\r\n                <Col span={2}>\r\n                    <Button \r\n                        icon={<PlusOutlined />}\r\n                        disabled={value >= props.max} \r\n                        onClick={handleAddClick} />\r\n                </Col>\r\n            </Row>\r\n        </PropertyFrame>\r\n    )\r\n}","import { Button, Modal } from \"antd\";\r\nimport React, { useState } from \"react\";\r\nimport ColorProperty from \"./ColorProperty\";\r\nimport RangeProperty from \"./RangeProperty\";\r\nimport SwitchPorperty from \"./SwitchProperty\";\r\nimport 'antd/dist/antd.css';\r\nimport RadioProperty from \"./RadioProperty\";\r\nimport RangePlusProperty from \"./RangePlusProperty\";\r\n\r\nexport default function SmartDevice(props) {\r\n    const [currentScene, setCurrentScene] = useState(null);\r\n    const [visible, setVisible] = useState(true);\r\n\r\n  function handleChange(pid, value) {\r\n      props.onChange(props.ip, pid, value);\r\n  }\r\n\r\n  return (\r\n    <Modal visible={visible} title={<h2>{props.name}</h2>} centered={true} closable={true} afterClose={props.afterHide}\r\n    onCancel={()=>{\r\n        setVisible(false);\r\n    }}\r\n     footer={\r\n        props.scenes === undefined ? null :\r\n            props.scenes.map((scene, index) => {\r\n                return <Button key={index} type={currentScene === index ? \"primary\" : \"default\"} onClick={()=>{\r\n                    setCurrentScene(index);\r\n                    scene.properties.map((property) => {\r\n                        handleChange(property.id, property.value);\r\n                    });\r\n                }}>\r\n                    {scene.name}\r\n                </Button>\r\n            }) \r\n    }>\r\n        {\r\n            props.properties && <>\r\n                {\r\n                    props.properties.map((property, index) => {\r\n                        switch (property.type) {\r\n                            case \"bool\":\r\n                                return (\r\n                                    <SwitchPorperty\r\n                                        key={index}\r\n                                        value={property.value}\r\n                                        id={property.id}\r\n                                        name={property.name}\r\n                                        trueText={property.trueText}\r\n                                        falseText={property.falseText}\r\n                                        onChange={handleChange}\r\n                                    />\r\n                                );\r\n                            case \"range\":\r\n                                return (\r\n                                    <RangeProperty\r\n                                        key={index}\r\n                                        value={property.value}\r\n                                        id={property.id}\r\n                                        name={property.name}\r\n                                        min={property.min}\r\n                                        max={property.max}\r\n                                        onChange={handleChange}\r\n                                    />\r\n                                );\r\n                            case \"rgb\":\r\n                                return (\r\n                                    <ColorProperty\r\n                                        key={index}\r\n                                        value={property.value}\r\n                                        id={property.id}\r\n                                        name={property.name}\r\n                                        onChange={handleChange}\r\n                                    />\r\n                                );\r\n                            case \"radio\":\r\n                                return (\r\n                                    <RadioProperty\r\n                                        key={index}\r\n                                        value={property.value}\r\n                                        id={property.id}\r\n                                        name={property.name}\r\n                                        values={property.values}\r\n                                        onChange={handleChange}\r\n                                    />\r\n                                    );\r\n                            case \"range+\":\r\n                                return (\r\n                                    <RangePlusProperty\r\n                                        key={index}\r\n                                        value={property.value}\r\n                                        id={property.id}\r\n                                        name={property.name}\r\n                                        min={property.min}\r\n                                        max={property.max}\r\n                                        step={property.step}\r\n                                        onChange={handleChange}\r\n                                    />\r\n                                )\r\n                            default:\r\n                                return property.name;\r\n                        }\r\n                    })\r\n                }\r\n            </>\r\n            \r\n        }\r\n    </Modal>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport SmartDevice from \"./SmartDevice\";\r\nimport 'antd/dist/antd.css';\r\n\r\nexport default class SmartHome extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { json: null, index: null };\r\n        this.onDeviceChange = this.onDeviceChange.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(\"/model/init\").then(response => response.json()).then(json => { \r\n            this.setState({ json: json }) });\r\n    }\r\n\r\n    onDeviceChange(ip, pid, value) {\r\n        let device = this.state.json.devices.find(d => d.ip === ip);\r\n        let property = device.properties.find(p => p.id === pid);\r\n        property.ip = ip;\r\n        property.value = value;\r\n        fetch('/', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(property) });\r\n        // 模拟 fetch 返回一个新 json 对象\r\n        this.setState({json: {...this.state.json}});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container root\">\r\n                <svg width=\"1360\" height=\"980\" pointerEvents=\"none\">\r\n                <g alignmentBaseline=\"hanging\">\r\n                    {/* 阳台: 10, 10, 150, 340 */}\r\n                        <rect x=\"10\" y=\"10\" width=\"150\" height=\"340\" fill=\"#EDEDED\" />\r\n                        {/* 客厅: 160, 10, 340, 340\r\n            餐厅: 620, 10, 260, 340\r\n            厨房: 880, 150, 270, 250\r\n            玄关: 880, 10, 270, 140\r\n             */}\r\n                        <rect x=\"160\" y=\"10\" width=\"340\" height=\"340\" fill=\"#E6E1DD\" />\r\n                        <rect x=\"620\" y=\"10\" width=\"260\" height=\"340\" fill=\"#E6E1DD\" />\r\n                        <rect x=\"880\" y=\"150\" width=\"270\" height=\"250\" fill=\"#EDEDED\" />\r\n                        <rect x=\"880\" y=\"10\" width=\"270\" height=\"140\" fill=\"#DAD3C2\" />\r\n                        {/* 次卧: 160, 350, 340, 290 */}\r\n                        <rect x=\"160\" y=\"350\" width=\"340\" height=\"290\" fill=\"#EDEDED\" />\r\n                        {/* 主卧: 160, 640, 340, 330\r\n            主卫: 500, 760, 200, 210\r\n            */}\r\n                        <rect x=\"160\" y=\"640\" width=\"340\" height=\"330\" fill=\"#E6E1DD\" />\r\n                        <rect x=\"500\" y=\"760\" width=\"200\" height=\"210\" fill=\"#EDEDED\" />\r\n                        {/* 客卫: 620, 350, 260, 170\r\n            书房: 620, 520, 260, 240\r\n             */}\r\n                        <rect x=\"620\" y=\"350\" width=\"260\" height=\"170\" fill=\"#EDEDED\" />\r\n                        <rect x=\"880\" y=\"400\" width=\"20\" height=\"120\" fill=\"#EDEDED\" />\r\n                        <rect x=\"620\" y=\"520\" width=\"260\" height=\"240\" fill=\"#E6E1DD\" />\r\n                        {/* 走廊: 500, 10, 120, 630 */}\r\n                        <rect x=\"500\" y=\"10\" width=\"120\" height=\"630\" fill=\"#DAD3C2\" />\r\n\r\n\r\n                        {/* 阳台: 10, 10, 150, 340 */}\r\n                    <path\r\n                            d=\"M 10 10 h 150 v 80 M 12.5 10 v 340 h 147.5 v -80\"\r\n                        fill=\"transparent\"\r\n                        stroke=\"black\" strokeWidth=\"5\"\r\n                        />\r\n                        <text x=\"45\" y=\"170\" alignmentBaseline=\"hanging\">\r\n                            阳台\r\n          </text>\r\n                    {/* 客厅: 160, 10, 340, 340\r\n            餐厅: 620, 10, 260, 340\r\n            厨房: 880, 150, 270, 250\r\n            玄关: 880, 10, 270, 140\r\n             */}\r\n                    <path\r\n                        d=\"M 160 10 h 990 v 10 m 0 120 v 260 h -270 v -100 M 160 350 h 340 m 120 0 h 260 M 1150 150 h -270 v 50\"\r\n                        fill=\"transparent\"\r\n                        stroke=\"black\" strokeWidth=\"5\"\r\n                    />\r\n                    <text x=\"165\" y=\"170\" alignmentBaseline=\"hanging\">\r\n                        客厅\r\n          </text>\r\n                    <text x=\"640\" y=\"170\" alignmentBaseline=\"hanging\">\r\n                        餐厅\r\n          </text>\r\n                    <text x=\"1000\" y=\"155\" alignmentBaseline=\"hanging\">\r\n                        厨房\r\n          </text>\r\n                    <text x=\"1000\" y=\"80\" alignmentBaseline=\"hanging\">\r\n                        玄关\r\n          </text>\r\n                    {/* 次卧: 160, 350, 340, 290 */}\r\n                    <path\r\n                        d=\"M 160 350 v 290 h 350 m 100 0 h 10 m -120 0 v -160 m 0 -102.5 v -30\"\r\n                        fill=\"transparent\"\r\n                        stroke=\"black\" strokeWidth=\"5\"\r\n                    />\r\n                    <text x=\"320\" y=\"355\" alignmentBaseline=\"hanging\">\r\n                        次卧\r\n          </text>\r\n                    {/* 主卧: 160, 640, 340, 330\r\n            主卫: 500, 760, 200, 210\r\n            */}\r\n                    <path\r\n                        d=\"M 160 640 v 330 h 540 v -210 M 500 970 v -210 h 30 m 80 0 h 90\"\r\n                        fill=\"transparent\"\r\n                        stroke=\"black\" strokeWidth=\"5\"\r\n                    />\r\n                    <text x=\"320\" y=\"645\" alignmentBaseline=\"hanging\">\r\n                        主卧\r\n          </text>\r\n                    <text x=\"650\" y=\"765\" alignmentBaseline=\"hanging\">\r\n                        主卫\r\n          </text>\r\n                    {/* 客卫: 620, 350, 260, 170\r\n            书房: 620, 520, 260, 240\r\n             */}\r\n                    <path\r\n                        d=\"M 620 347.5 v 40 m 0 100 v 30 h 280 v -120 M 620 520 v 10 m 0 80 v 150 h 260 v -240\"\r\n                        fill=\"transparent\"\r\n                        stroke=\"black\" strokeWidth=\"5\"\r\n                    />\r\n                    <text x=\"640\" y=\"355\" alignmentBaseline=\"hanging\">\r\n                        客卫\r\n          </text>\r\n                    <text x=\"640\" y=\"525\" alignmentBaseline=\"hanging\">\r\n                        书房\r\n          </text>\r\n                </g>\r\n                {this.state.json && this.state.json.devices.map((device, index) => {\r\n                    return this.createDevice(device, index);\r\n                })}\r\n                </svg>\r\n                {this.state.json && this.state.index && \r\n                <SmartDevice\r\n                name={this.state.json.devices[this.state.index].name}\r\n                ip={this.state.json.devices[this.state.index].ip} \r\n                properties={this.state.json.devices[this.state.index].properties} \r\n                scenes={this.state.json.devices[this.state.index].scenes}\r\n                onChange={this.onDeviceChange} \r\n                afterHide={()=>{this.setState({index: null});}} />}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    createDevice(device, index) {\r\n        return <image xlinkHref={device.ui} key={index} x={device.x} y={device.y} width={device.width} height={device.height} pointerEvents=\"auto\" onClick={() => {\r\n            this.setState({ index: index });\r\n        }} />;\r\n    }\r\n}\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './custom.css';\r\nimport SmartHome from './SmartHome';\r\nimport 'antd/dist/antd.css';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <SmartHome />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}